<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Australia Chill Trip 2026</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-slate-950 text-slate-50 h-screen overflow-hidden">
    <div id="root" class="h-full"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- Icons (SVG) ---
        const Plane = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 12h20"/><path d="M13 2l9 10-9 10"/><path d="M2 12l5-5m0 10l-5-5"/></svg>
        );
        const Camera = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>
        );
        const Utensils = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>
        );
        const Bed = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 4v16"/><path d="M2 8h18a2 2 0 0 1 2 2v10"/><path d="M2 17h20"/><path d="M6 8v9"/></svg>
        );
        const MapPin = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
        );
        const ChevronUp = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m18 15-6-6-6 6"/></svg>
        );
        const ImageIcon = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>
        );

        // --- Config ---
        const LOCAL_STORAGE_KEY = "travel-timeline-events-v5";
        const PRIMARY_COLOR = "#3D9FBD";
        const SECONDARY_COLOR = "#CF171A";

        const DATE_TABS = [
            { label: "2/13", iso: "2026-02-13" },
            { label: "2/14", iso: "2026-02-14" },
            { label: "2/15", iso: "2026-02-15" },
            { label: "2/16", iso: "2026-02-16" },
            { label: "2/17", iso: "2026-02-17" },
            { label: "2/18", iso: "2026-02-18" },
            { label: "2/19", iso: "2026-02-19" },
            { label: "2/20", iso: "2026-02-20" },
            { label: "2/21", iso: "2026-02-21" },
            { label: "2/22", iso: "2026-02-22" },
            { label: "2/23", iso: "2026-02-23" },
        ];

        const INITIAL_EVENTS = [
            { id: "e1", date: "2026-02-13", time: "13:30", title: "TPE ‚Üí MNL (CI 703)", type: "transport", location: "Taoyuan Airport T1", shortDescription: "Âá∫ÁôºÔºÅËèØËà™È£õÈ¶¨Â∞ºÊãâÔºåÊ∫ñÂÇôËΩâÊ©ü„ÄÇ" },
            { id: "e2", date: "2026-02-13", time: "21:10", title: "MNL ‚Üí MEL (PR 209)", type: "transport", location: "Manila T1", shortDescription: "Ëè≤ÂæãË≥ìËà™Á©∫ÈÅéÂ§úÁè≠Ê©üÔºåÊ©ü‰∏äË£úÁú†„ÄÇ" },
            { id: "e3", date: "2026-02-14", time: "08:30", title: "ÊäµÈÅîÂ¢®ÁàæÊú¨ & Âá∫Èóú", type: "transport", location: "Tullamarine Airport", shortDescription: "ÈÄöÈóúÁ¥Ñ 1hr„ÄÇÈ†òË°åÊùé„ÄÅË≤∑ SkyBus„ÄÇ" },
            { id: "e4", date: "2026-02-14", time: "10:30", title: "Queen Victoria Market", type: "food", location: "Melbourne CBD", shortDescription: "Â¢®ÁàæÊú¨ÊúÄÂ§ßÂ∏ÇÈõÜÔºåÂêÉÊó©ÂçàÈ§ê„ÄÇ", imageUrl: "https://images.unsplash.com/photo-1545465969-9c3dc1b61948?w=800", recommendedItems: ["Market Lane Coffee", "Bratwurst", "Doughnuts"] },
            { id: "e5", date: "2026-02-14", time: "14:00", title: "Fitzroy ÊñáÈùíÂçÄ", type: "activity", location: "Fitzroy", shortDescription: "Rose St. Market & Â°óÈ¥âÁâÜ„ÄÇ" },
            { id: "e6", date: "2026-02-14", time: "17:30", title: "St Kilda Êµ∑ÁÅò", type: "activity", location: "St Kilda", shortDescription: "Êê≠ Tram 96 ÂéªÊµ∑ÈÇäÁúãÂ§ïÈôΩ„ÄÇ", imageUrl: "https://images.unsplash.com/photo-1557404768-305896a24683?w=800" },
            { id: "e7", date: "2026-02-15", time: "08:30", title: "Lune Croissanterie", type: "food", location: "Fitzroy", shortDescription: "‰∏ñÁïåÊúÄÂ•ΩÂêÉÂèØÈ†åÔºåÈúÄÊéíÈöä„ÄÇ", imageUrl: "https://images.unsplash.com/photo-1527515637462-cff94eecc1ac?w=800", recommendedItems: ["Traditional", "Almond"] },
            { id: "e8", date: "2026-02-15", time: "10:30", title: "Melbourne Museum", type: "activity", location: "Carlton", shortDescription: "ÁöáÂÆ∂Â±ïË¶ΩÈ§® & ÊÅêÈæçÂçÄ„ÄÇ" },
            { id: "e9", date: "2026-02-15", time: "15:00", title: "Collingwood Yards", type: "activity", location: "Collingwood", shortDescription: "Áç®Á´ãÂ∞èÂ∫óËàá‰∏ãÂçàËå∂„ÄÇ" },
            { id: "e10", date: "2026-02-16", time: "10:00", title: "South Melbourne Market", type: "food", location: "South Melb", shortDescription: "ÂøÖÂêÉÁîüË†î„ÄÇ", recommendedItems: ["Dim Sims", "Oysters"] },
            { id: "e11", date: "2026-02-16", time: "14:00", title: "Yarra River & Southbank", type: "activity", location: "Southbank", shortDescription: "ÈõÖÊãâÊ≤≥Êï£Ê≠•„ÄÇ", imageUrl: "https://images.unsplash.com/photo-1514395462725-fb456621614d?w=800" },
            { id: "e12", date: "2026-02-17", time: "09:00", title: "ÂèñËªä & Âá∫ÁôºÂ§ßÊ¥ãË∑Ø", type: "transport", location: "City Rental", shortDescription: "Ê™¢Êü•ËªäÊ≥ÅÔºåÂâçÂæÄ Geelong„ÄÇ" },
            { id: "e13", date: "2026-02-17", time: "12:00", title: "Great Ocean Road Drive", type: "activity", location: "B100", shortDescription: "Memorial Arch, Lorne, Kennett River„ÄÇ", imageUrl: "https://images.unsplash.com/photo-1533293856238-d98a00632207?w=800" },
            { id: "e14", date: "2026-02-17", time: "17:00", title: "‰ΩèÂÆø Apollo Bay", type: "stay", location: "Apollo Bay", shortDescription: "Êµ∑ÈÇäÂ∞èÈéÆÊôöÈ§ê„ÄÇ" },
            { id: "e15", date: "2026-02-18", time: "06:30", title: "12 Apostles & Gibson", type: "activity", location: "Port Campbell", shortDescription: "Êó©Êô®ÈÅøÈñã‰∫∫ÊΩÆ„ÄÇ", imageUrl: "https://images.unsplash.com/photo-1498964893798-29241da62136?w=800" },
            { id: "e16", date: "2026-02-18", time: "09:00", title: "Loch Ard Gorge", type: "activity", location: "Port Campbell", shortDescription: "Ê≤àËàπÂ≥ΩË∞∑„ÄÇ" },
            { id: "e17", date: "2026-02-18", time: "14:00", title: "ÂâçÂæÄ Grampians", type: "transport", location: "Halls Gap", shortDescription: "ÂÖßÈô∏ËªäÁ®ã 2.5hr„ÄÇ" },
            { id: "e18", date: "2026-02-18", time: "17:00", title: "‰ΩèÂÆø Grampians View", type: "stay", location: "Halls Gap", shortDescription: "ÂÇçÊôöÁúãË¢ãÈº†„ÄÇ" },
            { id: "e19", date: "2026-02-19", time: "06:00", title: "Boroka Lookout Êó•Âá∫", type: "activity", location: "Grampians", shortDescription: "ÁµïÊôØËßÄÊôØÂè∞„ÄÇ", imageUrl: "https://images.unsplash.com/photo-1599827638593-38259f972b94?w=800" },
            { id: "e20", date: "2026-02-19", time: "09:00", title: "The Pinnacle Walk", type: "activity", location: "Wonderland", shortDescription: "Â≥ΩË∞∑Ê≠•ÈÅìÂÅ•Ë°å„ÄÇ" },
            { id: "e21", date: "2026-02-19", time: "14:00", title: "Mackenzie Falls", type: "activity", location: "Grampians", shortDescription: "Á∂≠Â∑ûÊúÄÂ§ßÁÄëÂ∏É„ÄÇ" },
            { id: "e22", date: "2026-02-20", time: "09:30", title: "Sovereign Hill", type: "activity", location: "Ballarat", shortDescription: "ÊéèÈáëÈéÆÈ´îÈ©ó„ÄÇ", imageUrl: "https://images.unsplash.com/photo-1579763740266-9b1682335606?w=800" },
            { id: "e23", date: "2026-02-20", time: "15:00", title: "ÂâçÂæÄ MEL Ê©üÂ†¥ÈÇÑËªä", type: "transport", location: "MEL Airport", shortDescription: "Âä†ÊªøÊ≤π„ÄÅÈÇÑËªä„ÄÇ" },
            { id: "e24", date: "2026-02-20", time: "18:00", title: "È£õÂæÄÂ∏ÉÈáåÊñØÊú¨/ÈªÉÈáëÊµ∑Â≤∏", type: "flight", location: "MEL ‚Üí BNE/OOL", shortDescription: "Êê≠‰πòÂúãÂÖßÁ∑ö„ÄÇ" },
            { id: "e25", date: "2026-02-21", time: "09:00", title: "Surfers Paradise", type: "activity", location: "Gold Coast", shortDescription: "Ë°ùÊµ™ËÄÖÂ§©Â†Ç„ÄÇ", imageUrl: "https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9?w=800" },
            { id: "e26", date: "2026-02-21", time: "14:00", title: "Burleigh Heads", type: "activity", location: "Gold Coast", shortDescription: "Áï∂Âú∞‰∫∫‰ºëÈñíÂçÄ„ÄÇ" },
            { id: "e27", date: "2026-02-22", time: "10:00", title: "Brisbane South Bank", type: "activity", location: "Brisbane", shortDescription: "‰∫∫Â∑•Ê≤ôÁÅò Streets Beach„ÄÇ" },
            { id: "e28", date: "2026-02-22", time: "13:00", title: "Lone Pine Koala", type: "activity", location: "Brisbane", shortDescription: "Êä±ÁÑ°Â∞æÁÜä (ÈÅ∏ÈÖç)„ÄÇ" },
            { id: "e29", date: "2026-02-23", time: "14:00", title: "ÊúÄÂæåÊé°Ë≤∑", type: "activity", location: "Queen St Mall", shortDescription: "Ë≤∑‰º¥ÊâãÁ¶Æ„ÄÇ" },
            { id: "e30", date: "2026-02-23", time: "22:15", title: "BNE ‚Üí TPE (BR 316)", type: "transport", location: "Brisbane Airport", shortDescription: "ÂõûÂÆ∂ÂõâÔºÅ", imageUrl: "https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=800" },
        ];

        const TravelTimelineApp = () => {
            const [selectedDate, setSelectedDate] = useState(DATE_TABS[0].iso);
            const [expandedEventId, setExpandedEventId] = useState(null);
            const [checkedMap, setCheckedMap] = useState({});
            const [notesMap, setNotesMap] = useState({});
            const [events, setEvents] = useState([]);

            useEffect(() => {
                try {
                    const raw = localStorage.getItem(LOCAL_STORAGE_KEY);
                    setEvents(raw ? JSON.parse(raw) : INITIAL_EVENTS);
                } catch (e) { setEvents(INITIAL_EVENTS); }
            }, []);

            useEffect(() => {
                if (events.length > 0) localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(events));
            }, [events]);

            const now = new Date();
            const eventsForSelectedDate = useMemo(() => 
                events.filter(e => e.date === selectedDate).sort((a, b) => a.time.localeCompare(b.time)),
            [events, selectedDate]);

            const handleToggleChecked = (id) => setCheckedMap(prev => ({ ...prev, [id]: !prev[id] }));
            const addImageToEvent = (id, data) => setEvents(prev => prev.map(e => e.id === id ? { ...e, images: [...(e.images || []), data] } : e));
            const getCategoryIcon = (type) => {
                if (type === 'transport') return <Plane className="text-blue-400" />;
                if (type === 'food') return <Utensils className="text-orange-400" />;
                if (type === 'stay') return <Bed className="text-purple-400" />;
                if (type === 'activity') return <Camera className="text-emerald-400" />;
                return <MapPin className="text-slate-400" />;
            };
            const typeLabels = { transport: "‰∫§ÈÄö", activity: "Ë°åÁ®ã", food: "ÁæéÈ£ü", stay: "‰ΩèÂÆø" };

            return (
                <div className="flex flex-col h-full bg-slate-950 text-slate-50 font-sans">
                    <header className="shrink-0 bg-slate-950/80 backdrop-blur border-b border-slate-800 p-4 pb-0 z-20">
                        <div className="flex justify-between items-center mb-3">
                            <div><div className="text-[10px] tracking-widest text-slate-400 font-bold uppercase">2026 Trip Planner</div><h1 className="text-lg font-bold">Australia <span style={{color:PRIMARY_COLOR}}>Chill Trip</span></h1></div>
                            <div className="text-xs text-slate-400">{now.toLocaleDateString()}</div>
                        </div>
                        <div className="flex gap-2 overflow-x-auto pb-3 hide-scrollbar">
                            {DATE_TABS.map(d => (
                                <button key={d.iso} onClick={() => setSelectedDate(d.iso)} className={`shrink-0 px-4 py-2 rounded-full text-xs font-bold border transition-all ${selectedDate === d.iso ? "text-slate-950 border-transparent scale-105" : "border-slate-800 text-slate-400"}`} style={{background: selectedDate === d.iso ? `linear-gradient(135deg, ${PRIMARY_COLOR}, ${PRIMARY_COLOR}dd)` : 'rgba(30,41,59,0.5)'}}>
                                    {d.label}
                                </button>
                            ))}
                        </div>
                    </header>
                    <main className="flex-1 overflow-y-auto p-4 pb-20">
                        <div className="bg-slate-900/50 border border-slate-800 rounded-2xl p-4 space-y-4 backdrop-blur-sm min-h-[300px]">
                            {eventsForSelectedDate.length === 0 && <div className="text-center text-slate-500 py-10">No events today. üåø</div>}
                            {eventsForSelectedDate.map((ev, i) => {
                                const isCurrent = new Date(`${ev.date}T${ev.time}`).getTime() - now.getTime() < 3600000 && new Date(`${ev.date}T${ev.time}`).getTime() > now.getTime();
                                const isExpanded = expandedEventId === ev.id;
                                const isChecked = checkedMap[ev.id];
                                return (
                                    <div key={ev.id} className="flex gap-3 group">
                                        <div className="flex flex-col items-center mt-1">
                                            <div className={`w-3 h-3 rounded-full border-[2px] z-10 ${isCurrent ? `bg-[${PRIMARY_COLOR}] border-[${PRIMARY_COLOR}] shadow-[0_0_10px_${PRIMARY_COLOR}]` : isChecked ? "bg-emerald-500 border-emerald-500" : `bg-slate-950 border-[${PRIMARY_COLOR}]`}`}></div>
                                            {i !== eventsForSelectedDate.length - 1 && <div className="w-px flex-1 bg-slate-800 my-1 group-hover:bg-slate-700"></div>}
                                        </div>
                                        <div className={`flex-1 border rounded-xl overflow-hidden transition-all ${isChecked ? "opacity-60 grayscale" : "bg-slate-900/80"} ${isCurrent ? `ring-1 ring-[${PRIMARY_COLOR}] shadow-lg` : "border-slate-700"}`} onClick={() => setExpandedEventId(isExpanded ? null : ev.id)}>
                                            <div className="p-3">
                                                <div className="flex justify-between items-start gap-3">
                                                    <div className="min-w-0 flex-1">
                                                        <div className="flex items-center gap-2 mb-1"><span className={`font-mono text-xs ${isCurrent ? `text-[${PRIMARY_COLOR}] font-bold` : "text-slate-400"}`}>{ev.time}</span><span className="text-[10px] px-1.5 rounded border border-slate-700 text-slate-400">{typeLabels[ev.type]}</span></div>
                                                        <h3 className="font-semibold truncate flex items-center gap-2 text-slate-100"><span className="opacity-90 shrink-0">{getCategoryIcon(ev.type)}</span><span className="truncate">{ev.title}</span></h3>
                                                        {ev.location && <div className="text-xs text-slate-400 mt-1 flex items-center gap-1"><MapPin size={12}/> {ev.location}</div>}
                                                    </div>
                                                    <button onClick={(e) => {e.stopPropagation(); handleToggleChecked(ev.id)}} className={`w-8 h-8 rounded-full border flex items-center justify-center shrink-0 ${isChecked ? "bg-emerald-500/20 border-emerald-500 text-emerald-500" : "border-slate-700 text-slate-600"}`}>{isChecked && "‚úì"}</button>
                                                </div>
                                                <p className="text-xs text-slate-300 mt-2 line-clamp-2">{ev.shortDescription}</p>
                                            </div>
                                            {isExpanded && <div className="bg-slate-950/50 border-t border-slate-800 p-3 space-y-3 animate-in slide-in-from-top-2">
                                                <textarea onClick={e=>e.stopPropagation()} value={notesMap[ev.id]||""} onChange={e=>setNotesMap(p=>({...p,[ev.id]:e.target.value}))} className="w-full bg-slate-900 border border-slate-700 rounded-lg text-xs p-2 text-slate-200 focus:outline-none focus:border-[color:#3D9FBD]" placeholder="Notes..." rows={2}></textarea>
                                                {ev.imageUrl && <img src={ev.imageUrl} className="w-full h-32 object-cover rounded-lg border border-slate-700" />}
                                                {ev.images?.map((src,k)=><img key={k} src={src} className="w-full h-24 object-cover rounded-lg border border-slate-700"/>)}
                                                <label onClick={e=>e.stopPropagation()} className="block w-full py-2 border border-dashed border-slate-600 rounded-lg text-center text-xs text-slate-400 cursor-pointer hover:bg-slate-800"><span className="flex items-center justify-center gap-2"><ImageIcon size={14}/> Add Photo</span><input type="file" accept="image/*" className="hidden" onChange={e=>{const f=e.target.files[0];if(f){const r=new FileReader();r.onload=()=>addImageToEvent(ev.id,r.result);r.readAsDataURL(f)}}}/></label>
                                                <div className="flex justify-center"><ChevronUp size={16} className="text-slate-600"/></div>
                                            </div>}
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    </main>
                </div>
            );
        };
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<TravelTimelineApp />);
    </script>
</body>
</html>